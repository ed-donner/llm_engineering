<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.0.5 (20251129.0259)
 -->
<!-- Title: Architecture Pages: 1 -->
<svg width="924pt" height="543pt"
 viewBox="0.00 0.00 924.00 543.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 539.47)">
<title>Architecture</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-539.47 920,-539.47 920,4 -4,4"/>
<text xml:space="preserve" text-anchor="middle" x="458" y="-520.07" font-family="Times New Roman,serif" font-size="12.00">Production Web App Architecture</text>
<g id="clust1" class="cluster">
<title>cluster_ui</title>
<path fill="none" stroke="black" d="M286,-338.99C286,-338.99 418,-338.99 418,-338.99 424,-338.99 430,-344.99 430,-350.99 430,-350.99 430,-493.22 430,-493.22 430,-499.22 424,-505.22 418,-505.22 418,-505.22 286,-505.22 286,-505.22 280,-505.22 274,-499.22 274,-493.22 274,-493.22 274,-350.99 274,-350.99 274,-344.99 280,-338.99 286,-338.99"/>
<text xml:space="preserve" text-anchor="middle" x="352" y="-489.82" font-family="Times New Roman,serif" font-size="12.00">Streamlit UI (app.py)</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_core</title>
<path fill="none" stroke="black" d="M20,-138.25C20,-138.25 402,-138.25 402,-138.25 408,-138.25 414,-144.25 414,-150.25 414,-150.25 414,-292.49 414,-292.49 414,-298.49 408,-304.49 402,-304.49 402,-304.49 20,-304.49 20,-304.49 14,-304.49 8,-298.49 8,-292.49 8,-292.49 8,-150.25 8,-150.25 8,-144.25 14,-138.25 20,-138.25"/>
<text xml:space="preserve" text-anchor="middle" x="211" y="-289.09" font-family="Times New Roman,serif" font-size="12.00">Core Logic (bn_decision_maker)</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_cfg</title>
<path fill="none" stroke="black" d="M434,-161.58C434,-161.58 624,-161.58 624,-161.58 630,-161.58 636,-167.58 636,-173.58 636,-173.58 636,-269.15 636,-269.15 636,-275.15 630,-281.15 624,-281.15 624,-281.15 434,-281.15 434,-281.15 428,-281.15 422,-275.15 422,-269.15 422,-269.15 422,-173.58 422,-173.58 422,-167.58 428,-161.58 434,-161.58"/>
<text xml:space="preserve" text-anchor="middle" x="529" y="-265.75" font-family="Times New Roman,serif" font-size="12.00">Configuration</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_data</title>
<path fill="none" stroke="black" d="M656,-184.24C656,-184.24 896,-184.24 896,-184.24 902,-184.24 908,-190.24 908,-196.24 908,-196.24 908,-246.49 908,-246.49 908,-252.49 902,-258.49 896,-258.49 896,-258.49 656,-258.49 656,-258.49 650,-258.49 644,-252.49 644,-246.49 644,-246.49 644,-196.24 644,-196.24 644,-190.24 650,-184.24 656,-184.24"/>
<text xml:space="preserve" text-anchor="middle" x="776" y="-243.09" font-family="Times New Roman,serif" font-size="12.00">Data (examples)</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_engines</title>
<path fill="none" stroke="black" d="M89,-8C89,-8 363,-8 363,-8 369,-8 375,-14 375,-20 375,-20 375,-91.75 375,-91.75 375,-97.75 369,-103.75 363,-103.75 363,-103.75 89,-103.75 89,-103.75 83,-103.75 77,-97.75 77,-91.75 77,-91.75 77,-20 77,-20 77,-14 83,-8 89,-8"/>
<text xml:space="preserve" text-anchor="middle" x="226" y="-88.35" font-family="Times New Roman,serif" font-size="12.00">Engines / Services</text>
</g>
<!-- UI -->
<g id="node1" class="node">
<title>UI</title>
<ellipse fill="none" stroke="black" cx="352" cy="-410.98" rx="70.18" ry="63.99"/>
<text xml:space="preserve" text-anchor="middle" x="352" y="-438.93" font-family="Times New Roman,serif" font-size="14.00">UI: app.py</text>
<text xml:space="preserve" text-anchor="middle" x="352" y="-422.43" font-family="Times New Roman,serif" font-size="14.00">• session_state</text>
<text xml:space="preserve" text-anchor="middle" x="352" y="-405.93" font-family="Times New Roman,serif" font-size="14.00">• inputs</text>
<text xml:space="preserve" text-anchor="middle" x="352" y="-389.43" font-family="Times New Roman,serif" font-size="14.00">• visualizations</text>
<text xml:space="preserve" text-anchor="middle" x="352" y="-372.93" font-family="Times New Roman,serif" font-size="14.00">• error dialogs</text>
</g>
<!-- CaseParser -->
<g id="node2" class="node">
<title>CaseParser</title>
<ellipse fill="none" stroke="black" cx="129" cy="-210.24" rx="113.14" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="129" y="-221.69" font-family="Times New Roman,serif" font-size="14.00">CaseParser</text>
<text xml:space="preserve" text-anchor="middle" x="129" y="-205.19" font-family="Times New Roman,serif" font-size="14.00">• parse_case(text, prompt)</text>
<text xml:space="preserve" text-anchor="middle" x="129" y="-188.69" font-family="Times New Roman,serif" font-size="14.00">• validation</text>
</g>
<!-- UI&#45;&gt;CaseParser -->
<g id="edge1" class="edge">
<title>UI&#45;&gt;CaseParser</title>
<path fill="none" stroke="black" d="M285.16,-390.86C250.43,-378.08 209.42,-358.17 181,-328.99 162.98,-310.48 150.63,-284.68 142.51,-261.95"/>
<polygon fill="black" stroke="black" points="145.84,-260.88 139.33,-252.52 139.2,-263.11 145.84,-260.88"/>
<text xml:space="preserve" text-anchor="middle" x="215.5" y="-315.69" font-family="Times New Roman,serif" font-size="14.00">invoke parse</text>
</g>
<!-- DecisionBN -->
<g id="node3" class="node">
<title>DecisionBN</title>
<ellipse fill="none" stroke="black" cx="333" cy="-210.24" rx="73.36" ry="63.99"/>
<text xml:space="preserve" text-anchor="middle" x="333" y="-238.19" font-family="Times New Roman,serif" font-size="14.00">DecisionBN</text>
<text xml:space="preserve" text-anchor="middle" x="333" y="-221.69" font-family="Times New Roman,serif" font-size="14.00">• build BN</text>
<text xml:space="preserve" text-anchor="middle" x="333" y="-205.19" font-family="Times New Roman,serif" font-size="14.00">• inference</text>
<text xml:space="preserve" text-anchor="middle" x="333" y="-188.69" font-family="Times New Roman,serif" font-size="14.00">• utilities</text>
<text xml:space="preserve" text-anchor="middle" x="333" y="-172.19" font-family="Times New Roman,serif" font-size="14.00">• optimal action</text>
</g>
<!-- UI&#45;&gt;DecisionBN -->
<g id="edge3" class="edge">
<title>UI&#45;&gt;DecisionBN</title>
<path fill="none" stroke="black" d="M294.38,-373.8C279.78,-361.51 265.99,-346.41 258,-328.99 247.71,-306.53 257.5,-283.29 273.01,-263.46"/>
<polygon fill="black" stroke="black" points="275.49,-265.95 279.25,-256.04 270.13,-261.44 275.49,-265.95"/>
<text xml:space="preserve" text-anchor="middle" x="294" y="-315.69" font-family="Times New Roman,serif" font-size="14.00">construct BN</text>
</g>
<!-- Config -->
<g id="node4" class="node">
<title>Config</title>
<ellipse fill="none" stroke="black" cx="529" cy="-210.24" rx="99.35" ry="40.66"/>
<text xml:space="preserve" text-anchor="middle" x="529" y="-221.69" font-family="Times New Roman,serif" font-size="14.00">config.py</text>
<text xml:space="preserve" text-anchor="middle" x="529" y="-205.19" font-family="Times New Roman,serif" font-size="14.00">• SYSTEM_PROMPT</text>
<text xml:space="preserve" text-anchor="middle" x="529" y="-188.69" font-family="Times New Roman,serif" font-size="14.00">• APP_CONFIG</text>
</g>
<!-- UI&#45;&gt;Config -->
<g id="edge5" class="edge">
<title>UI&#45;&gt;Config</title>
<path fill="none" stroke="black" d="M418.1,-388.65C447.9,-375.83 481.03,-356.54 502,-328.99 516.39,-310.09 523.33,-284.86 526.6,-262.61"/>
<polygon fill="black" stroke="black" points="530.06,-263.15 527.8,-252.8 523.11,-262.29 530.06,-263.15"/>
<text xml:space="preserve" text-anchor="middle" x="524.91" y="-315.69" font-family="Times New Roman,serif" font-size="14.00">reads</text>
</g>
<!-- Examples -->
<g id="node5" class="node">
<title>Examples</title>
<ellipse fill="none" stroke="black" cx="776" cy="-210.24" rx="124.03" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="776" y="-205.19" font-family="Times New Roman,serif" font-size="14.00">examples/predefined_cases.py</text>
</g>
<!-- UI&#45;&gt;Examples -->
<g id="edge6" class="edge">
<title>UI&#45;&gt;Examples</title>
<path fill="none" stroke="black" d="M418.89,-390.71C478.57,-372.31 567.47,-341.88 640,-304.49 678.69,-284.54 719.41,-255.38 746.09,-235"/>
<polygon fill="black" stroke="black" points="747.94,-238 753.71,-229.12 743.66,-232.46 747.94,-238"/>
<text xml:space="preserve" text-anchor="middle" x="678.87" y="-315.69" font-family="Times New Roman,serif" font-size="14.00">reads predefined cases</text>
</g>
<!-- LLM -->
<g id="node7" class="node">
<title>LLM</title>
<polygon fill="none" stroke="black" points="241.12,-62.75 84.88,-62.75 84.88,-26.75 241.12,-26.75 241.12,-62.75"/>
<text xml:space="preserve" text-anchor="middle" x="163" y="-39.7" font-family="Times New Roman,serif" font-size="14.00">litellm / OpenAI / Claude</text>
</g>
<!-- CaseParser&#45;&gt;LLM -->
<g id="edge2" class="edge">
<title>CaseParser&#45;&gt;LLM</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M137.32,-169.25C143.45,-139.74 151.66,-100.3 157.12,-74.01"/>
<polygon fill="black" stroke="black" points="160.51,-74.93 159.12,-64.42 153.65,-73.5 160.51,-74.93"/>
<text xml:space="preserve" text-anchor="middle" x="171.55" y="-114.95" font-family="Times New Roman,serif" font-size="14.00">API call</text>
</g>
<!-- DecisionBN&#45;&gt;UI -->
<g id="edge7" class="edge">
<title>DecisionBN&#45;&gt;UI</title>
<path fill="none" stroke="black" d="M340.11,-285.58C342.03,-305.73 344.1,-327.35 345.96,-346.83"/>
<polygon fill="black" stroke="black" points="343.6,-285.36 339.17,-275.74 336.63,-286.03 343.6,-285.36"/>
<text xml:space="preserve" text-anchor="middle" x="421.08" y="-315.69" font-family="Times New Roman,serif" font-size="14.00">results: marginals/posteriors</text>
</g>
<!-- pyAgrum -->
<g id="node6" class="node">
<title>pyAgrum</title>
<polygon fill="none" stroke="black" points="367.12,-73.5 258.88,-73.5 258.88,-16 367.12,-16 367.12,-73.5"/>
<text xml:space="preserve" text-anchor="middle" x="313" y="-56.2" font-family="Times New Roman,serif" font-size="14.00">pyagrum</text>
<text xml:space="preserve" text-anchor="middle" x="313" y="-39.7" font-family="Times New Roman,serif" font-size="14.00">LazyPropagation</text>
<text xml:space="preserve" text-anchor="middle" x="313" y="-23.2" font-family="Times New Roman,serif" font-size="14.00">Graphviz dot</text>
</g>
<!-- DecisionBN&#45;&gt;pyAgrum -->
<g id="edge4" class="edge">
<title>DecisionBN&#45;&gt;pyAgrum</title>
<path fill="none" stroke="black" d="M325.32,-146.5C322.8,-125.87 320.07,-103.52 317.82,-85.13"/>
<polygon fill="black" stroke="black" points="321.32,-84.96 316.63,-75.46 314.37,-85.81 321.32,-84.96"/>
<text xml:space="preserve" text-anchor="middle" x="381.12" y="-114.95" font-family="Times New Roman,serif" font-size="14.00">BN build + inference</text>
</g>
</g>
</svg>
